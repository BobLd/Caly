<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="using:Caly.Core.Controls"
        xmlns:viewModels="clr-namespace:Caly.Core.ViewModels">
    <Design.PreviewWith>
        <controls:PdfDocumentControl x:DataType="viewModels:PdfDocumentViewModel" Width="630" Height="1782"/>
    </Design.PreviewWith>

    <Style Selector="controls|PdfDocumentControl" x:DataType="viewModels:PdfDocumentViewModel">

        <Setter Property="ItemsSource" Value="{Binding Pages}"/>
        <Setter Property="PageCount" Value="{Binding PageCount}"/>
        <Setter Property="ZoomLevel" Value="{Binding ZoomLevel}"/>
        <Setter Property="SelectedPageIndex" Value="{Binding SelectedPageIndex, Mode=TwoWay}"/>
        <Setter Property="SelectedBookmark" Value="{Binding SelectedBookmark, Mode=OneWay}"/>
        <Setter Property="PdfTextSelection" Value="{Binding Selection, Mode=OneWay}"/>

        <Setter Property="Template">
            <ControlTemplate>

                <ScrollViewer Name="PART_ScrollViewer"
                              VerticalScrollBarVisibility="Auto"
                              HorizontalScrollBarVisibility="Auto"
                              Focusable="True"
                              IsScrollInertiaEnabled="True">

                    <ScrollViewer.KeyBindings>
                        <KeyBinding Gesture="Ctrl+C" Command="{Binding CopyTextCommand}" />
                    </ScrollViewer.KeyBindings>

                    <LayoutTransformControl Name="PART_LayoutTransformControl"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center">

                        <Grid>

                            <!-- TODO - Investigate ItemsControl -->
                            <ItemsRepeater Name="PART_ItemsRepeater"
                                           HorizontalAlignment="Center"
                                           ItemsSource="{TemplateBinding ItemsSource}">

                                <ItemsRepeater.Layout>
                                    <StackLayout Orientation="Vertical" Spacing="5" DisableVirtualization="False"/>
                                </ItemsRepeater.Layout>

                                <ItemsRepeater.ItemTemplate>
                                    <DataTemplate x:DataType="viewModels:PdfPageViewModel">
                                        <controls:PdfPageControl/>
                                    </DataTemplate>
                                </ItemsRepeater.ItemTemplate>

                            </ItemsRepeater>

                        </Grid>

                    </LayoutTransformControl>

                </ScrollViewer>

            </ControlTemplate>
        </Setter>
    </Style>
</Styles>
